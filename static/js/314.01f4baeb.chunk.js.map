{"version":3,"file":"static/js/314.01f4baeb.chunk.js","mappings":"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","sources":["api/movies.js","components/ReviewCard/ReviewCard.jsx","components/Reviews/Reviews.jsx","components/Reviews/reviews.styled.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '86a1cc89777a565dcdd4691f802dc14c';\n\nexport const getTrending = async () => {\n  const response = await axios.get(BASE_URL + '/trending/movie/day', {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  if (response.status !== 200) {\n    throw new Error('smth went wrong');\n  }\n\n  return response.data.results;\n};\n\nexport const getMovieById = async movieId => {\n  const response = await axios.get(BASE_URL + `/movie/${movieId}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  if (response.status !== 200) {\n    throw new Error('smth went wrong');\n  }\n\n  return response.data;\n};\n\nexport const getMovieCast = async movieId => {\n  const response = await axios.get(BASE_URL + `/movie/${movieId}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  if (response.status !== 200) {\n    throw new Error('smth went wrong');\n  }\n\n  return response.data.cast;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await axios.get(BASE_URL + `/movie/${movieId}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n\n  if (response.status !== 200) {\n    throw new Error('smth went wrong');\n  }\n\n  return response.data.results;\n};\n\nexport const findMovie = async query => {\n  const response = await axios.get(BASE_URL + `/search/movie`, {\n    params: {\n      api_key: API_KEY,\n      query: query,\n    },\n  });\n\n  if (response.status !== 200) {\n    throw new Error('smth went wrong');\n  }\n\n  return response.data.results;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'assets/icons';\nimport { Content, H3, Li } from './reviewCard.styled';\n\nconst ReviewCard = ({ author, content }) => {\n  return (\n    <Li>\n      <H3>\n        <Icon id=\"unknownComentator\" /> {author}\n      </H3>\n      <Content>{content}</Content>\n    </Li>\n  );\n};\n\nReviewCard.propTypes = {\n  author: PropTypes.string.isRequired,\n  content: PropTypes.string.isRequired,\n};\n\nexport default ReviewCard;\n","import { getMovieReviews } from 'api/movies';\nimport { Container } from 'components/Layout/layout.style';\nimport ReviewCard from 'components/ReviewCard/ReviewCard';\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { NotFound, Ul } from './reviews.styled';\nimport { Hourglass } from 'react-loader-spinner';\n\nconst Reviews = () => {\n  const [movieReviews, setMovieReviews] = useState();\n  const [status, setStatus] = useState('pending');\n  const [errorMsg, setErrorMsg] = useState('');\n\n  const { movieId } = useParams();\n\n  const fetchMovieReviews = async () => {\n    try {\n      const reviewsInfo = await getMovieReviews(movieId);\n      setMovieReviews(reviewsInfo);\n      setStatus('resolved');\n    } catch (error) {\n      setErrorMsg(error.message);\n      setStatus('rejected');\n    }\n  };\n\n  useEffect(() => {\n    fetchMovieReviews(movieId);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (status === 'pending') {\n    return (\n      <Container>\n        <div\n          style={{\n            marginTop: '-60px',\n            marginBottom: '20px',\n          }}\n        >\n          <Hourglass\n            visible={true}\n            height=\"36\"\n            width=\"36\"\n            ariaLabel=\"hourglass-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"\"\n            colors={['#ff8600', '#fba647']}\n          />\n        </div>\n      </Container>\n    );\n  }\n\n  if (status === 'resolved') {\n    return movieReviews.length ? (\n      <section>\n        <Container>\n          <Ul>\n            {movieReviews.map(review => {\n              return (\n                <ReviewCard\n                  key={review.id}\n                  author={review.author}\n                  content={review.content}\n                />\n              );\n            })}\n          </Ul>\n        </Container>\n      </section>\n    ) : (\n      <Container>\n        <NotFound>Sorry, we don't find any reviews for this movieðŸ˜¢</NotFound>\n      </Container>\n    );\n  }\n\n  if (status === 'rejected') {\n    console.warn(errorMsg);\n  }\n};\n\nexport default Reviews;\n","import styled from '@emotion/styled';\n\nexport const Ul = styled.ul`\n  padding: 0;\n`;\n\nexport const NotFound = styled.p`\n  text-align: center;\n  color: #fff;\n`;\n"],"names":["BASE_URL","API_KEY","getTrending","axios","params","api_key","response","status","Error","data","results","getMovieById","movieId","getMovieCast","cast","getMovieReviews","findMovie","query","author","content","Li","H3","id","useState","movieReviews","setMovieReviews","setStatus","errorMsg","setErrorMsg","useParams","fetchMovieReviews","reviewsInfo","message","useEffect","style","marginTop","marginBottom","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","length","Ul","map","review","console","warn","styled","NotFound"],"sourceRoot":""}